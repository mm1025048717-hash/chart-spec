<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, viewport-fit=cover">
    <title>å›¾è¡¨è§„èŒƒå¤§å…¨ - Chart Spec</title>
    <script src="https://cdn.jsdelivr.net/npm/@antv/g2plot@2.4.31/dist/g2plot.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        :root {
            --apple-blue: #0071E3;
            --apple-blue-rgb: 0, 113, 227;
            --bg-gray: #F5F5F7;
            --card-white: #FFFFFF;
            --text-primary: #1D1D1F;
            --text-secondary: #86868B;
            --text-tertiary: #AEAEB2;
            --border: rgba(0, 0, 0, 0.06);
            --safe-top: env(safe-area-inset-top, 0px);
            --safe-bottom: env(safe-area-inset-bottom, 0px);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "PingFang SC", sans-serif;
            background: var(--bg-gray);
            color: var(--text-primary);
            padding-bottom: calc(84px + var(--safe-bottom));
            -webkit-font-smoothing: antialiased;
        }

        /* ===== Header ===== */
        .header {
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: saturate(180%) blur(20px);
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            padding: calc(20px + var(--safe-top)) 20px 20px;
            text-align: center;
            border-bottom: 0.5px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header h1 {
            font-size: 22px;
            font-weight: 700;
            letter-spacing: -0.02em;
            margin-bottom: 4px;
        }

        .header p {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .device-indicator {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            margin-top: 12px;
            padding: 6px 14px;
            background: rgba(var(--apple-blue-rgb), 0.08);
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: var(--apple-blue);
        }

        .device-indicator svg { width: 14px; height: 14px; }

        /* ===== Grid ===== */
        .grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
            padding: 16px;
            max-width: 1400px;
            margin: 0 auto;
        }

        @media (min-width: 768px) { .grid { grid-template-columns: repeat(2, 1fr); } }
        @media (min-width: 1200px) { .grid { grid-template-columns: repeat(3, 1fr); } }

        /* ===== Card ===== */
        .card {
            background: var(--card-white);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 2px 12px rgba(0,0,0,0.04);
        }

        .card-header {
            padding: 14px 18px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 0.5px solid var(--border);
        }

        .card-icon {
            width: 42px;
            height: 42px;
            background: #F2F2F7;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .card-info { flex: 1; min-width: 0; }
        .card-title { font-size: 16px; font-weight: 600; }
        .card-sub { font-size: 11px; color: var(--text-secondary); margin-top: 1px; }

        .card-badge {
            font-size: 10px;
            font-weight: 600;
            padding: 4px 8px;
            background: rgba(var(--apple-blue-rgb), 0.08);
            color: var(--apple-blue);
            border-radius: 6px;
            flex-shrink: 0;
        }

        /* ===== Chart Area ===== */
        .chart-area {
            padding: 16px;
            background: #FAFAFA;
            border-bottom: 0.5px solid var(--border);
        }

        .chart-box {
            width: 100%;
            height: 240px;
        }

        /* ===== Specs Table ===== */
        .specs {
            background: var(--card-white);
        }

        .specs-header {
            padding: 10px 18px;
            background: #FAFAFA;
            border-bottom: 0.5px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .specs-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.03em;
        }

        .device-tag {
            font-size: 10px;
            font-weight: 600;
            padding: 3px 8px;
            background: rgba(var(--apple-blue-rgb), 0.1);
            color: var(--apple-blue);
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .device-tag svg { width: 10px; height: 10px; }

        .spec-table-header {
            display: grid;
            grid-template-columns: 1.2fr 0.7fr 1.4fr;
            padding: 8px 18px;
            font-size: 10px;
            font-weight: 600;
            color: var(--text-tertiary);
            background: #FAFAFA;
            border-bottom: 0.5px solid var(--border);
        }

        .spec-row {
            display: grid;
            grid-template-columns: 1.2fr 0.7fr 1.4fr;
            padding: 10px 18px;
            border-bottom: 0.5px solid var(--border);
            font-size: 12px;
            align-items: center;
        }

        .spec-row:last-child { border-bottom: none; }

        .spec-key {
            font-family: "SF Mono", Menlo, monospace;
            font-size: 10px;
            color: #8E8E93;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .spec-val {
            font-family: "SF Mono", Menlo, monospace;
            font-weight: 600;
            color: var(--apple-blue);
            text-align: center;
            background: rgba(var(--apple-blue-rgb), 0.06);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            width: fit-content;
            margin: 0 auto;
        }

        .spec-desc {
            font-size: 11px;
            color: var(--text-secondary);
            line-height: 1.3;
        }

        .card-footer {
            padding: 14px 18px;
            background: var(--card-white);
            border-top: 0.5px solid var(--border);
        }

        .btn {
            display: block;
            width: 100%;
            padding: 12px;
            background: var(--apple-blue);
            color: #FFFFFF;
            border-radius: 12px;
            text-decoration: none;
            font-size: 14px;
            font-weight: 600;
            text-align: center;
            transition: all 0.2s;
        }

        .btn:active { transform: scale(0.97); opacity: 0.9; }

        /* ===== Special Components ===== */
        .table-demo { width: 100%; border-collapse: collapse; font-size: 12px; }
        .table-demo th { text-align: left; padding: 12px 8px; color: var(--text-secondary); border-bottom: 1px solid var(--border); font-weight: 600; background: #FAFAFA; }
        .table-demo td { padding: 14px 8px; border-bottom: 0.5px solid var(--border); }
        .table-demo .trend-up { color: #5AD8A6; font-weight: 600; }
        .table-demo .trend-down { color: #E86452; font-weight: 600; }

        .indicator-box { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; padding: 40px; }
        .indicator-box .value { font-size: 48px; font-weight: 700; letter-spacing: -0.02em; }
        .indicator-box .label { font-size: 15px; color: var(--text-secondary); margin-top: 8px; }
        .indicator-box .trend { font-size: 14px; color: #5AD8A6; margin-top: 12px; font-weight: 600; }

        /* ===== Tabbar ===== */
        .tabbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: calc(50px + var(--safe-bottom));
            padding-bottom: var(--safe-bottom);
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: saturate(180%) blur(20px);
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            display: flex;
            align-items: center;
            justify-content: space-around;
            border-top: 0.5px solid var(--border);
            z-index: 1000;
        }

        .tab-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            color: #8E8E93;
            gap: 3px;
        }

        .tab-item.active { color: var(--apple-blue); }
        .tab-icon { width: 24px; height: 24px; }
        .tab-label { font-size: 10px; font-weight: 500; }

        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(16px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            animation: fadeIn 0.5s ease forwards;
            opacity: 0;
        }
    </style>
</head>
<body>

<header class="header">
    <h1>å›¾è¡¨è§„èŒƒå¤§å…¨</h1>
    <p>26ç§å›¾è¡¨ Â· ä¸¥æ ¼éµå¾ª AntV è®¾è®¡è§„èŒƒ</p>
    <div class="device-indicator" id="deviceIndicator">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect x="5" y="2" width="14" height="20" rx="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>
        <span id="deviceText">ç§»åŠ¨ç«¯å‚æ•°</span>
    </div>
</header>

<div class="grid" id="chartGrid"></div>

<nav class="tabbar">
    <a href="mobile.html" class="tab-item">
        <div class="tab-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
        </div>
        <span class="tab-label">é¦–é¡µ</span>
    </a>
    <a href="mobile-spec.html" class="tab-item active">
        <div class="tab-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
        </div>
        <span class="tab-label">è§„èŒƒ</span>
    </a>
    <a href="data-agent.html" class="tab-item">
        <div class="tab-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>
        </div>
        <span class="tab-label">æ–¹æ¡ˆ</span>
    </a>
    <a href="index.html" class="tab-item">
        <div class="tab-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg>
        </div>
        <span class="tab-label">æ¡Œé¢ç«¯</span>
    </a>
</nav>

<script>
// AntV æ ‡å‡†è‰²å½©ä½“ç³»
const COLORS = ['#5B8FF9', '#5AD8A6', '#5D7092', '#F6BD16', '#E86452', '#6DC8EC', '#945FB9', '#FF9845'];

// æ£€æµ‹è®¾å¤‡ç±»å‹
const isMobile = () => window.innerWidth < 769;
let currentIsMobile = isMobile();

// 26ç§å›¾è¡¨é…ç½® - æ ¼å¼: [å‚æ•°å, ç§»åŠ¨ç«¯å€¼, PCç«¯å€¼, è¯´æ˜]
const charts = [
    { id: '01', name: 'æŸ±çŠ¶å›¾', en: 'Column', icon: 'ğŸ“Š', cat: 'åŸºç¡€', path: '01-column', 
      specs: [
        ['columnWidthRatio', '0.6', '0.5', 'æŸ±å­å®½åº¦æ¯”ä¾‹'],
        ['label.fontSize', '9px', '11px', 'æ ‡ç­¾å­—å·'],
        ['axis.fontSize', '9px', '11px', 'è½´æ ‡ç­¾å­—å·'],
        ['borderRadius', '3px', '4px', 'åœ†è§’å¤§å°']
      ]},
    { id: '02', name: 'å †å æŸ±çŠ¶å›¾', en: 'Stacked Column', icon: 'ğŸ“š', cat: 'åŸºç¡€', path: '02-stacked-column', 
      specs: [
        ['columnWidthRatio', '0.6', '0.5', 'æŸ±å­å®½åº¦æ¯”ä¾‹'],
        ['label.fontSize', '9px', '11px', 'æ ‡ç­¾å­—å·'],
        ['legend.fontSize', '9px', '12px', 'å›¾ä¾‹å­—å·']
      ]},
    { id: '03', name: 'æ¡å½¢å›¾', en: 'Bar', icon: 'ğŸ“', cat: 'åŸºç¡€', path: '03-bar', 
      specs: [
        ['barWidthRatio', '0.55', '0.5', 'æ¡å½¢å®½åº¦æ¯”ä¾‹'],
        ['label.fontSize', '9px', '11px', 'æ ‡ç­¾å­—å·'],
        ['axis.fontSize', '9px', '11px', 'è½´æ ‡ç­¾å­—å·']
      ]},
    { id: '04', name: 'æŠ˜çº¿å›¾', en: 'Line', icon: 'ğŸ“ˆ', cat: 'è¶‹åŠ¿', path: '04-line', 
      specs: [
        ['lineWidth', '1.5', '2', 'çº¿æ¡å®½åº¦'],
        ['point.size', '3', '4', 'æ•°æ®ç‚¹å¤§å°'],
        ['axis.fontSize', '9px', '11px', 'è½´æ ‡ç­¾å­—å·'],
        ['smooth', 'false', 'false', 'æ˜¯å¦å¹³æ»‘']
      ]},
    { id: '05', name: 'é¢ç§¯å›¾', en: 'Area', icon: 'ğŸ“‰', cat: 'è¶‹åŠ¿', path: '05-area', 
      specs: [
        ['lineWidth', '1.5', '2', 'è¾¹ç•Œçº¿å®½åº¦'],
        ['fillOpacity', '0.25', '0.3', 'å¡«å……é€æ˜åº¦'],
        ['axis.fontSize', '9px', '11px', 'è½´æ ‡ç­¾å­—å·'],
        ['smooth', 'true', 'true', 'å¹³æ»‘æ›²çº¿']
      ]},
    { id: '06', name: 'é¥¼å›¾', en: 'Pie', icon: 'ğŸ¥§', cat: 'å æ¯”', path: '06-pie', 
      specs: [
        ['radius', '0.85', '0.8', 'é¥¼å›¾åŠå¾„'],
        ['label.fontSize', '8px', '10px', 'æ ‡ç­¾å­—å·'],
        ['label.offset', '8', '12', 'æ ‡ç­¾åç§»é‡']
      ]},
    { id: '07', name: 'ç›´æ–¹å›¾', en: 'Histogram', icon: 'ğŸ“Š', cat: 'ç»Ÿè®¡', path: '07-histogram', 
      specs: [
        ['binNumber', '8', '12', 'åˆ†ç»„æ•°é‡'],
        ['axis.fontSize', '9px', '11px', 'è½´æ ‡ç­¾å­—å·'],
        ['columnStyle.radius', '2', '3', 'åœ†è§’å¤§å°']
      ]},
    { id: '08', name: 'æ•£ç‚¹å›¾', en: 'Scatter', icon: 'âœ¨', cat: 'ç»Ÿè®¡', path: '08-scatter', 
      specs: [
        ['size', '4', '5', 'ç‚¹å¤§å°'],
        ['axis.fontSize', '9px', '11px', 'è½´æ ‡ç­¾å­—å·'],
        ['legend.fontSize', '9px', '11px', 'å›¾ä¾‹å­—å·']
      ]},
    { id: '09', name: 'æ°”æ³¡å›¾', en: 'Bubble', icon: 'ğŸ«§', cat: 'ç»Ÿè®¡', path: '09-bubble', 
      specs: [
        ['size', '[6,24]', '[8,30]', 'æ°”æ³¡å¤§å°èŒƒå›´'],
        ['axis.fontSize', '9px', '11px', 'è½´æ ‡ç­¾å­—å·'],
        ['strokeWidth', '0.5', '1', 'æè¾¹å®½åº¦']
      ]},
    { id: '10', name: 'é›·è¾¾å›¾', en: 'Radar', icon: 'ğŸ•¸ï¸', cat: 'æ¯”è¾ƒ', path: '10-radar', 
      specs: [
        ['point.size', '3', '4', 'æ•°æ®ç‚¹å¤§å°'],
        ['lineWidth', '1.5', '2', 'çº¿æ¡å®½åº¦'],
        ['label.fontSize', '9px', '11px', 'æ ‡ç­¾å­—å·']
      ]},
    { id: '11', name: 'æ¼æ–—å›¾', en: 'Funnel', icon: 'ğŸ”»', cat: 'æµç¨‹', path: '11-funnel', 
      specs: [
        ['label.fontSize', '9px', '12px', 'æ ‡ç­¾å­—å·'],
        ['conversionTag.size', '10px', '12px', 'è½¬åŒ–æ ‡ç­¾å­—å·']
      ]},
    { id: '12', name: 'ä»ªè¡¨ç›˜', en: 'Gauge', icon: 'â±ï¸', cat: 'è¿›åº¦', path: '12-gauge', 
      specs: [
        ['statistic.fontSize', '18px', '24px', 'æ•°å€¼å­—å·'],
        ['indicator.pin', '8px', '10px', 'æŒ‡é’ˆå¤§å°']
      ]},
    { id: '13', name: 'å¸•ç´¯æ‰˜å›¾', en: 'Pareto', icon: 'ğŸ“‰', cat: 'åˆ†æ', path: '13-pareto', 
      specs: [
        ['lineWidth', '1.5', '2', 'çº¿æ¡å®½åº¦'],
        ['point.size', '3', '4', 'æ•°æ®ç‚¹å¤§å°'],
        ['axis.fontSize', '8px', '10px', 'è½´æ ‡ç­¾å­—å·']
      ]},
    { id: '14', name: 'çŸ©å½¢æ ‘å›¾', en: 'Treemap', icon: 'ğŸ—‚ï¸', cat: 'å±‚çº§', path: '14-treemap', 
      specs: [
        ['label.fontSize', '9px', '11px', 'æ ‡ç­¾å­—å·'],
        ['rectStyle.lineWidth', '1', '2', 'è¾¹æ¡†å®½åº¦']
      ]},
    { id: '15', name: 'è¯äº‘å›¾', en: 'WordCloud', icon: 'â˜ï¸', cat: 'æ–‡æœ¬', path: '15-wordcloud', 
      specs: [
        ['fontSize', '[10,36]', '[14,48]', 'å­—å·èŒƒå›´'],
        ['padding', '2', '4', 'æ–‡å­—é—´è·']
      ]},
    { id: '16', name: 'çƒ­åŠ›å›¾', en: 'Heatmap', icon: 'ğŸ”¥', cat: 'åˆ†å¸ƒ', path: '16-heatmap', 
      specs: [
        ['xAxis.fontSize', '7px', '9px', 'Xè½´æ ‡ç­¾å­—å·'],
        ['yAxis.fontSize', '9px', '11px', 'Yè½´æ ‡ç­¾å­—å·']
      ]},
    { id: '17', name: 'åœ°å›¾', en: 'Map', icon: 'ğŸ—ºï¸', cat: 'åœ°ç†', path: '17-map', 
      specs: [
        ['label.fontSize', '8px', '10px', 'æ ‡ç­¾å­—å·'],
        ['borderWidth', '0.5', '1', 'è¾¹æ¡†å®½åº¦'],
        ['zoom', '1.0', '1.2', 'ç¼©æ”¾çº§åˆ«']
      ]},
    { id: '18', name: 'è¡¨æ ¼', en: 'Table', icon: 'ğŸ“‹', cat: 'æ•°æ®', path: '18-table', 
      specs: [
        ['header.fontSize', '10px', '12px', 'è¡¨å¤´å­—å·'],
        ['cell.fontSize', '9px', '11px', 'å•å…ƒæ ¼å­—å·'],
        ['cell.padding', '6px', '10px', 'å•å…ƒæ ¼å†…è¾¹è·']
      ]},
    { id: '19', name: 'æŒ‡æ ‡å¡', en: 'Indicator', icon: 'ğŸ·ï¸', cat: 'æŒ‡æ ‡', path: '19-indicator', 
      specs: [
        ['value.fontSize', '24px', '32px', 'æ•°å€¼å­—å·'],
        ['label.fontSize', '11px', '14px', 'æ ‡ç­¾å­—å·'],
        ['trend.fontSize', '10px', '12px', 'è¶‹åŠ¿å­—å·']
      ]},
    { id: '20', name: 'ç¯å›¾', en: 'Ring', icon: 'ğŸ©', cat: 'å æ¯”', path: '20-ring', 
      specs: [
        ['innerRadius', '0.55', '0.6', 'å†…åœ†åŠå¾„'],
        ['label.fontSize', '9px', '11px', 'æ ‡ç­¾å­—å·'],
        ['statistic.fontSize', '16px', '20px', 'ä¸­å¿ƒæ•°å€¼å­—å·']
      ]},
    { id: '21', name: 'ç€‘å¸ƒå›¾', en: 'Waterfall', icon: 'ğŸŒŠ', cat: 'æ¯”è¾ƒ', path: '21-waterfall', 
      specs: [
        ['columnWidthRatio', '0.55', '0.5', 'æŸ±å­å®½åº¦æ¯”ä¾‹'],
        ['label.fontSize', '9px', '11px', 'æ ‡ç­¾å­—å·'],
        ['axis.fontSize', '8px', '10px', 'è½´æ ‡ç­¾å­—å·']
      ]},
    { id: '22', name: 'åŒè½´å›¾', en: 'DualAxes', icon: 'ğŸ“Š', cat: 'å¤åˆ', path: '22-dual-axes', 
      specs: [
        ['columnWidthRatio', '0.45', '0.4', 'æŸ±å­å®½åº¦æ¯”ä¾‹'],
        ['lineWidth', '1.5', '2', 'çº¿æ¡å®½åº¦'],
        ['axis.fontSize', '9px', '11px', 'è½´æ ‡ç­¾å­—å·']
      ]},
    { id: '23', name: 'ç«ç‘°å›¾', en: 'Rose', icon: 'ğŸŒ¹', cat: 'å æ¯”', path: '23-rose', 
      specs: [
        ['radius', '0.88', '0.9', 'å¤–åœ†åŠå¾„'],
        ['innerRadius', '0.25', '0.3', 'å†…åœ†åŠå¾„'],
        ['label.fontSize', '9px', '11px', 'æ ‡ç­¾å­—å·']
      ]},
    { id: '24', name: 'æ—­æ—¥å›¾', en: 'Sunburst', icon: 'â˜€ï¸', cat: 'å±‚çº§', path: '24-sunburst', 
      specs: [
        ['innerRadius', '0.2', '0.25', 'å†…åœ†åŠå¾„'],
        ['label.fontSize', '8px', '10px', 'æ ‡ç­¾å­—å·'],
        ['strokeWidth', '1', '2', 'åˆ†éš”çº¿å®½åº¦']
      ]},
    { id: '25', name: 'æ¡‘åŸºå›¾', en: 'Sankey', icon: 'ğŸ§¬', cat: 'æµç¨‹', path: '25-sankey', 
      specs: [
        ['nodeWidthRatio', '0.015', '0.012', 'èŠ‚ç‚¹å®½åº¦æ¯”ä¾‹'],
        ['label.fontSize', '7px', '9px', 'æ ‡ç­¾å­—å·'],
        ['edgeOpacity', '0.3', '0.35', 'è¿çº¿é€æ˜åº¦']
      ]},
    { id: '26', name: 'è¿›åº¦æ¡', en: 'Progress', icon: 'ğŸ“¶', cat: 'è¿›åº¦', path: '26-progress', 
      specs: [
        ['barWidthRatio', '0.25', '0.3', 'è¿›åº¦æ¡å®½åº¦æ¯”ä¾‹'],
        ['label.fontSize', '10px', '12px', 'æ ‡ç­¾å­—å·']
      ]}
];

// æ¸²æŸ“å¡ç‰‡
function renderCards() {
    const grid = document.getElementById('chartGrid');
    const mobile = isMobile();
    const valueIndex = mobile ? 1 : 2;
    
    // æ›´æ–°è®¾å¤‡æŒ‡ç¤ºå™¨
    const indicator = document.getElementById('deviceIndicator');
    const deviceText = document.getElementById('deviceText');
    if (mobile) {
        deviceText.textContent = 'ç§»åŠ¨ç«¯å‚æ•°';
    } else {
        deviceText.textContent = 'PCç«¯å‚æ•°';
    }
    
    grid.innerHTML = '';
    
    charts.forEach((c, idx) => {
        const card = document.createElement('div');
        card.className = 'card';
        card.style.animationDelay = `${idx * 0.03}s`;
        card.innerHTML = `
            <div class="card-header">
                <div class="card-icon">${c.icon}</div>
                <div class="card-info">
                    <div class="card-title">${c.name}</div>
                    <div class="card-sub">@antv/g2plot Â· ${c.en}</div>
                </div>
                <span class="card-badge">${c.cat}</span>
            </div>
            <div class="chart-area"><div id="chart-${c.id}" class="chart-box"></div></div>
            <div class="specs">
                <div class="specs-header">
                    <span class="specs-title">å‚æ•°è§„èŒƒ</span>
                    <span class="device-tag">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect x="5" y="2" width="14" height="20" rx="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>
                        ${mobile ? 'ç§»åŠ¨ç«¯' : 'PCç«¯'}
                    </span>
                </div>
                <div class="spec-table-header">
                    <span>å‚æ•°</span>
                    <span style="text-align:center;">å€¼</span>
                    <span>è¯´æ˜</span>
                </div>
                ${c.specs.map(s => `
                    <div class="spec-row">
                        <span class="spec-key">${s[0]}</span>
                        <span class="spec-val">${s[valueIndex]}</span>
                        <span class="spec-desc">${s[3]}</span>
                    </div>
                `).join('')}
            </div>
            <div class="card-footer"><a href="${c.path}/index.html" class="btn">æŸ¥çœ‹å®Œæ•´è§„èŒƒ â†’</a></div>
        `;
        grid.appendChild(card);
    });
}

// å›¾è¡¨æ•°æ®
const columnData = [
    { type: 'åä¸œ', value: 38 }, { type: 'ååŒ—', value: 28 }, { type: 'åå—', value: 24 }, 
    { type: 'åä¸­', value: 22 }, { type: 'è¥¿åŒ—', value: 15 }, { type: 'è¥¿å—', value: 16 }
];

const lineData = [
    { month: '1æœˆ', value: 36 }, { month: '2æœˆ', value: 42 }, { month: '3æœˆ', value: 38 },
    { month: '4æœˆ', value: 46 }, { month: '5æœˆ', value: 52 }, { month: '6æœˆ', value: 48 }
];

const pieData = [
    { type: 'çº¿ä¸Š', value: 45 }, { type: 'é—¨åº—', value: 32 }, { type: 'åˆ†é”€', value: 18 }, { type: 'å…¶ä»–', value: 5 }
];

// æ¸²æŸ“ä¸­å›½åœ°å›¾
async function renderChinaMap(containerId, mobile) {
    const container = document.getElementById(containerId);
    if (!container) return;
    
    // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
    container.innerHTML = '<div style="height:100%;display:flex;align-items:center;justify-content:center;color:#86868B;font-size:11px;">åŠ è½½åœ°å›¾ä¸­...</div>';
    
    try {
        // å°è¯•åŠ è½½æœ¬åœ° GeoJSON
        const geoJsonSources = [
            '17-map/china.json',
            'https://cdn.jsdelivr.net/npm/echarts@5.4.3/map/json/china.json'
        ];
        
        let geoJson = null;
        for (const url of geoJsonSources) {
            try {
                const response = await fetch(url);
                if (response.ok) {
                    geoJson = await response.json();
                    if (geoJson && geoJson.features) break;
                }
            } catch (e) { continue; }
        }
        
        if (!geoJson || !geoJson.features) {
            throw new Error('æ— æ³•åŠ è½½åœ°å›¾æ•°æ®');
        }
        
        // æ³¨å†Œåœ°å›¾
        echarts.registerMap('china', geoJson);
        
        // ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®
        const provinceNames = geoJson.features
            .map(f => f.properties?.name)
            .filter(name => name && name !== 'ä¸­åäººæ°‘å…±å’Œå›½');
        
        const mapData = provinceNames.map(name => ({
            name: name,
            value: Math.round(Math.random() * 8000 + 500)
        }));
        
        // æ¸…ç©ºå®¹å™¨å¹¶åˆå§‹åŒ– ECharts
        container.innerHTML = '';
        const chart = echarts.init(container);
        
        const option = {
            tooltip: {
                trigger: 'item',
                backgroundColor: 'rgba(255,255,255,0.95)',
                borderColor: '#E8E8ED',
                borderWidth: 1,
                padding: [8, 12],
                textStyle: { color: '#1D1D1F', fontSize: mobile ? 10 : 12 },
                formatter: params => `${params.name.replace(/çœ|å¸‚|è‡ªæ²»åŒº|ç‰¹åˆ«è¡Œæ”¿åŒº|å£®æ—|å›æ—|ç»´å¾å°”/g, '')}: ${params.value ? params.value.toLocaleString() : 0} ä¸‡å…ƒ`
            },
            visualMap: {
                show: !mobile,
                min: 0,
                max: 8000,
                left: 10,
                bottom: 10,
                text: ['é«˜', 'ä½'],
                textStyle: { color: '#86868B', fontSize: mobile ? 8 : 10 },
                inRange: { color: ['#E8F4FD', '#7CB8F7', '#5B8FF9', '#3D6DD8'] },
                itemWidth: mobile ? 8 : 12,
                itemHeight: mobile ? 60 : 100
            },
            series: [{
                type: 'map',
                map: 'china',
                roam: true,
                zoom: mobile ? 1.0 : 1.2,
                center: [104, 36],
                scaleLimit: { min: 0.8, max: 3 },
                label: { show: false },
                itemStyle: { areaColor: '#f5f5f5', borderColor: '#fff', borderWidth: mobile ? 0.5 : 1 },
                emphasis: {
                    label: { show: true, color: '#fff', fontSize: mobile ? 8 : 10 },
                    itemStyle: { areaColor: '#5B8FF9', shadowColor: 'rgba(91,143,249,0.4)', shadowBlur: 10 }
                },
                data: mapData
            }]
        };
        
        chart.setOption(option);
        
        // å“åº”å¼
        const resizeObserver = new ResizeObserver(() => chart.resize());
        resizeObserver.observe(container);
        
    } catch (error) {
        console.error('åœ°å›¾åŠ è½½å¤±è´¥:', error);
        container.innerHTML = `<div style="height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#86868B;font-size:11px;background:#F5F5F7;border-radius:8px;gap:8px;">
            <span>ğŸ—ºï¸ åœ°å›¾åŠ è½½å¤±è´¥</span>
            <button onclick="renderChinaMap('${containerId}', ${mobile})" style="padding:4px 12px;background:#5B8FF9;color:#fff;border:none;border-radius:4px;font-size:10px;cursor:pointer;">é‡è¯•</button>
        </div>`;
    }
}

// ç»Ÿä¸€å›¾ä¾‹é…ç½®
function getLegendConfig(mobile, position = 'top-right') {
    return {
        position: position,
        marker: { symbol: 'square', style: { r: mobile ? 4 : 5 } },
        itemName: { style: { fontSize: mobile ? 10 : 12, fill: '#1D1D1F' } },
        itemSpacing: mobile ? 8 : 12
    };
}

// æ¸²æŸ“å›¾è¡¨
function renderCharts() {
    const { Column, Bar, Line, Area, Pie, Scatter, Radar, Funnel, Gauge, Treemap, WordCloud, Heatmap, Rose, Sunburst, Progress, Waterfall, DualAxes, Sankey, Histogram } = G2Plot;
    const mobile = isMobile();
    
    // ç»Ÿä¸€çš„å°ºå¯¸é…ç½®
    const fontSize = mobile ? 10 : 12;           // ç»Ÿä¸€è½´æ ‡ç­¾å­—å·
    const bindRadius = mobile ? 3 : 4;           // æŸ±çŠ¶å›¾åœ†è§’
    const labelFontSize = mobile ? 10 : 12;      // å›¾è¡¨å†…æ ‡ç­¾å­—å·
    const lineWidth = mobile ? 2 : 2.5;          // çº¿æ¡å®½åº¦
    const pointSize = mobile ? 4 : 5;            // æ•°æ®ç‚¹å¤§å°
    const circleRadius = mobile ? 0.8 : 0.75;    // åœ†å½¢å›¾è¡¨åŠå¾„
    const basePadding = mobile ? [20, 15, 35, 40] : [25, 20, 40, 50]; // ç»Ÿä¸€åŸºç¡€padding

    try {
        // 01 æŸ±çŠ¶å›¾
        new Column('chart-01', {
            data: columnData, xField: 'type', yField: 'value', color: '#5B8FF9',
            columnWidthRatio: mobile ? 0.6 : 0.5, columnStyle: { radius: [bindRadius, bindRadius, 0, 0] },
            label: { position: 'top', style: { fill: '#5B8FF9', fontSize: labelFontSize } },
            xAxis: { label: { style: { fontSize } } },
            yAxis: { label: { style: { fontSize } }, grid: { line: { style: { stroke: '#E8E8ED', lineDash: [4, 4] } } } },
            legend: false,
            padding: basePadding
        }).render();

        // 02 å †å æŸ±çŠ¶å›¾ - æ— åœ†è§’
        const stackData = [...columnData.slice(0, 4).map(d => ({ ...d, year: '2023' })), ...columnData.slice(0, 4).map(d => ({ type: d.type, value: Math.round(d.value * 1.15), year: '2024' }))];
        new Column('chart-02', {
            data: stackData, xField: 'type', yField: 'value', seriesField: 'year', isStack: true,
            color: ['#5B8FF9', '#5AD8A6'], columnWidthRatio: mobile ? 0.6 : 0.5,
            columnStyle: { radius: 0 },
            xAxis: { label: { style: { fontSize } } },
            yAxis: { label: { style: { fontSize } }, grid: { line: { style: { stroke: '#E8E8ED', lineDash: [4, 4] } } } },
            legend: false,
            padding: basePadding
        }).render();

        // 03 æ¡å½¢å›¾
        new Bar('chart-03', {
            data: columnData.slice(0, 5), xField: 'value', yField: 'type', color: '#5B8FF9',
            barWidthRatio: mobile ? 0.55 : 0.5,
            barStyle: { radius: [0, bindRadius, bindRadius, 0] },
            label: { position: 'right', style: { fill: '#5B8FF9', fontSize: labelFontSize } },
            xAxis: { label: { style: { fontSize } } },
            yAxis: { label: { style: { fontSize } } },
            legend: false,
            padding: mobile ? [15, 45, 15, 50] : [20, 50, 20, 60]
        }).render();

        // 04 æŠ˜çº¿å›¾
        new Line('chart-04', {
            data: lineData, xField: 'month', yField: 'value', color: '#5B8FF9',
            lineStyle: { lineWidth },
            point: { size: pointSize, style: { fill: '#5B8FF9', stroke: '#fff', lineWidth: 1.5 } },
            xAxis: { label: { style: { fontSize } } },
            yAxis: { label: { style: { fontSize } }, grid: { line: { style: { stroke: '#E8E8ED', lineDash: [4, 4] } } } },
            legend: false,
            padding: basePadding
        }).render();

        // 05 é¢ç§¯å›¾
        new Area('chart-05', {
            data: lineData, xField: 'month', yField: 'value', color: '#5AD8A6', smooth: true,
            areaStyle: { fillOpacity: 0.3 },
            line: { style: { lineWidth } },
            xAxis: { label: { style: { fontSize } } },
            yAxis: { label: { style: { fontSize } }, grid: { line: { style: { stroke: '#E8E8ED', lineDash: [4, 4] } } } },
            legend: false,
            padding: basePadding
        }).render();

        // 06 é¥¼å›¾
        new Pie('chart-06', {
            data: pieData, angleField: 'value', colorField: 'type', radius: circleRadius,
            color: COLORS,
            label: { 
                type: 'spider',
                content: '{name} {percentage}',
                style: { fontSize: labelFontSize },
                labelLine: { style: { lineWidth: 1, stroke: '#aaa' } }
            },
            legend: false,
            padding: [15, 15, 15, 15]
        }).render();

        // 07 ç›´æ–¹å›¾
        const histData = Array.from({ length: 100 }, () => ({ value: Math.random() * 100 }));
        new Histogram('chart-07', {
            data: histData, binField: 'value', binNumber: mobile ? 8 : 12, color: '#5B8FF9',
            columnStyle: { radius: [bindRadius, bindRadius, 0, 0] },
            xAxis: { label: { style: { fontSize } } },
            yAxis: { label: { style: { fontSize } }, grid: { line: { style: { stroke: '#E8E8ED', lineDash: [4, 4] } } } },
            legend: false,
            padding: basePadding
        }).render();

        // 08 æ•£ç‚¹å›¾
        const scatterData = Array.from({ length: 30 }, () => ({ x: Math.random() * 100, y: Math.random() * 100, cat: Math.random() > 0.5 ? 'Aç±»' : 'Bç±»' }));
        new Scatter('chart-08', {
            data: scatterData, xField: 'x', yField: 'y', colorField: 'cat',
            size: pointSize + 1, color: ['#5B8FF9', '#5AD8A6'],
            shape: 'circle',
            pointStyle: { fillOpacity: 0.8, stroke: '#fff', lineWidth: 1.5 },
            xAxis: { label: { style: { fontSize } }, grid: { line: { style: { stroke: '#E8E8ED', lineDash: [4, 4] } } } },
            yAxis: { label: { style: { fontSize } }, grid: { line: { style: { stroke: '#E8E8ED', lineDash: [4, 4] } } } },
            legend: false,
            padding: basePadding
        }).render();

        // 09 æ°”æ³¡å›¾
        const bubbleData = [
            { x: 20, y: 75, z: 30, cat: 'ç”µå­' }, { x: 45, y: 55, z: 22, cat: 'å®¶ç”µ' },
            { x: 65, y: 65, z: 38, cat: 'æ—¥ç”¨' }, { x: 85, y: 45, z: 18, cat: 'é£Ÿå“' }
        ];
        new Scatter('chart-09', {
            data: bubbleData, xField: 'x', yField: 'y', sizeField: 'z', colorField: 'cat',
            size: mobile ? [18, 50] : [22, 60], color: COLORS.slice(0, 4),
            shape: 'circle',
            pointStyle: { fillOpacity: 0.75, stroke: '#fff', lineWidth: 1.5 },
            xAxis: { label: { style: { fontSize } }, min: 0, max: 100 },
            yAxis: { label: { style: { fontSize } }, min: 30, max: 90 },
            legend: false,
            padding: basePadding
        }).render();

        // 10 é›·è¾¾å›¾
        const radarData = [{ item: 'æŠ€æœ¯', score: 80 }, { item: 'è®¾è®¡', score: 70 }, { item: 'äº§å“', score: 85 }, { item: 'è¿è¥', score: 75 }, { item: 'å¸‚åœº', score: 65 }];
        new Radar('chart-10', {
            data: radarData, xField: 'item', yField: 'score', color: '#5B8FF9',
            area: { style: { fillOpacity: 0.3 } },
            point: { size: pointSize, style: { fill: '#5B8FF9', stroke: '#fff', lineWidth: 1.5 } },
            xAxis: { label: { style: { fontSize: labelFontSize } } },
            legend: false,
            padding: [30, 30, 30, 30]
        }).render();

        // 11 æ¼æ–—å›¾
        const funnelData = [{ stage: 'æµè§ˆ', value: 5000 }, { stage: 'ç‚¹å‡»', value: 3500 }, { stage: 'åŠ è´­', value: 2100 }, { stage: 'ä¸‹å•', value: 1200 }, { stage: 'æ”¯ä»˜', value: 800 }];
        new Funnel('chart-11', {
            data: funnelData, xField: 'stage', yField: 'value',
            color: ['#5B8FF9', '#5AD8A6', '#5D7092', '#F6BD16', '#E86452'],
            label: { 
                formatter: d => d.stage, 
                style: { fontSize: labelFontSize, fill: '#fff', fontWeight: 500 } 
            },
            conversionTag: false,
            legend: false,
            padding: [20, 20, 20, 20]
        }).render();

        // 12 ä»ªè¡¨ç›˜
        new Gauge('chart-12', {
            percent: 0.75,
            range: { ticks: [0, 1/3, 2/3, 1], color: ['#E86452', '#F6BD16', '#5AD8A6'] },
            indicator: { pointer: { style: { stroke: '#5D7092', lineWidth: 2 } }, pin: { style: { stroke: '#5D7092', r: mobile ? 6 : 8 } } },
            statistic: { content: { style: { fontSize: mobile ? '26px' : '32px', fontWeight: 600, color: '#5AD8A6' }, formatter: ({ percent }) => `${(percent * 100).toFixed(0)}%` } },
            padding: [20, 20, 20, 20]
        }).render();

        // 13 å¸•ç´¯æ‰˜å›¾
        const paretoRaw = [{ type: 'ç¼ºé™·A', value: 120 }, { type: 'ç¼ºé™·B', value: 85 }, { type: 'ç¼ºé™·C', value: 45 }, { type: 'ç¼ºé™·D', value: 30 }];
        const paretoTotal = paretoRaw.reduce((s, d) => s + d.value, 0);
        let cumulative = 0;
        const paretoLine = paretoRaw.map(d => { cumulative += d.value; return { type: d.type, percent: cumulative / paretoTotal }; });
        new DualAxes('chart-13', {
            data: [paretoRaw, paretoLine], xField: 'type', yField: ['value', 'percent'],
            geometryOptions: [
                { geometry: 'column', color: '#5B8FF9', columnWidthRatio: 0.5, columnStyle: { radius: [bindRadius, bindRadius, 0, 0] } },
                { geometry: 'line', color: '#5AD8A6', lineStyle: { lineWidth }, point: { size: pointSize, style: { fill: '#5AD8A6', stroke: '#fff', lineWidth: 2 } } }
            ],
            yAxis: { value: { label: { style: { fontSize } } }, percent: { label: { style: { fontSize }, formatter: v => (v * 100).toFixed(0) + '%' } } },
            xAxis: { label: { style: { fontSize } } },
            legend: false,
            padding: mobile ? [20, 45, 35, 45] : [25, 50, 40, 50]
        }).render();

        // 14 çŸ©å½¢æ ‘å›¾
        new Treemap('chart-14', {
            data: { name: 'root', children: pieData.map(d => ({ name: d.type, value: d.value })) },
            colorField: 'name', color: COLORS,
            label: { style: { fontSize: labelFontSize + 1, fill: '#fff', fontWeight: 500 } },
            rectStyle: { lineWidth: 2, stroke: '#fff' },
            legend: false,
            padding: [15, 15, 15, 15]
        }).render();

        // 15 è¯äº‘å›¾
        const wordData = [{ word: 'AI', weight: 100 }, { word: 'å¤§æ•°æ®', weight: 85 }, { word: 'äº‘è®¡ç®—', weight: 70 }, { word: 'ç‰©è”ç½‘', weight: 60 }, { word: 'åŒºå—é“¾', weight: 50 }, { word: '5G', weight: 45 }];
        new WordCloud('chart-15', {
            data: wordData, wordField: 'word', weightField: 'weight', colorField: 'word',
            color: COLORS,
            wordStyle: { fontSize: mobile ? [16, 48] : [20, 60], rotation: 0, fontWeight: 600 },
            random: () => 0.5,
            padding: [15, 15, 15, 15]
        }).render();

        // 16 çƒ­åŠ›å›¾
        const days = ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”'];
        const hours = ['9:00', '12:00', '15:00', '18:00'];
        const heatData = [];
        days.forEach(day => { hours.forEach(hour => { heatData.push({ day, hour, value: Math.floor(Math.random() * 100) }); }); });
        new Heatmap('chart-16', {
            data: heatData, xField: 'hour', yField: 'day', colorField: 'value',
            color: ['#E8F4FD', '#5B8FF9', '#3D5A99'], shape: 'rect',
            xAxis: { label: { style: { fontSize } }, tickLine: null },
            yAxis: { label: { style: { fontSize } } },
            legend: false,
            padding: mobile ? [15, 20, 35, 50] : [20, 25, 40, 55]
        }).render();

        // 17 åœ°å›¾ - ä½¿ç”¨ ECharts æ¸²æŸ“
        renderChinaMap('chart-17', mobile);

        // 18 è¡¨æ ¼
        document.getElementById('chart-18').innerHTML = `
            <table class="table-demo">
                <tr><th>åœ°åŒº</th><th>é”€å”®é¢</th><th>ç¯æ¯”</th></tr>
                <tr><td>åä¸œåŒº</td><td>Â¥3,650,000</td><td class="trend-up">â†‘12.5%</td></tr>
                <tr><td>ååŒ—åŒº</td><td>Â¥2,808,000</td><td class="trend-up">â†‘8.2%</td></tr>
                <tr><td>åå—åŒº</td><td>Â¥2,408,000</td><td class="trend-down">â†“3.1%</td></tr>
            </table>
        `;

        // 19 æŒ‡æ ‡å¡
        document.getElementById('chart-19').innerHTML = `
            <div class="indicator-box">
                <div class="value" style="color:#5B8FF9;">8,846<span style="font-size:16px;color:#86868B;margin-left:6px;">ä¸‡</span></div>
                <div class="label">æ€»é”€å”®é¢</div>
                <div class="trend">â†‘ 12.5% è¾ƒä¸Šæœˆ</div>
            </div>
        `;

        // 20 ç¯å›¾
        new Pie('chart-20', {
            data: pieData, angleField: 'value', colorField: 'type',
            radius: circleRadius, innerRadius: mobile ? 0.55 : 0.6,
            color: COLORS,
            label: { 
                type: 'spider',
                content: '{name} {percentage}',
                style: { fontSize: labelFontSize },
                labelLine: { style: { lineWidth: 1, stroke: '#aaa' } }
            },
            statistic: { 
                title: { content: 'æ€»è®¡', style: { fontSize: mobile ? '11px' : '13px', color: '#86868B' } }, 
                content: { content: '100', style: { fontSize: mobile ? '20px' : '24px', fontWeight: 600, color: '#1D1D1F' } } 
            },
            legend: false,
            padding: [15, 15, 15, 15]
        }).render();

        // 21 ç€‘å¸ƒå›¾
        const waterfallData = [{ type: 'æ”¶å…¥', value: 52 }, { type: 'æˆæœ¬', value: -21 }, { type: 'è´¹ç”¨', value: -10 }, { type: 'åˆ©æ¶¦', value: null }];
        new Waterfall('chart-21', {
            data: waterfallData, xField: 'type', yField: 'value',
            risingFill: '#5B8FF9', fallingFill: '#E86452',
            total: { label: 'åˆ©æ¶¦', style: { fill: '#5D7092' } },
            label: { position: 'middle', style: { fill: '#fff', fontSize: labelFontSize, fontWeight: 500 } },
            columnWidthRatio: mobile ? 0.55 : 0.5,
            xAxis: { label: { style: { fontSize } } },
            yAxis: { label: { style: { fontSize } }, grid: { line: { style: { stroke: '#E8E8ED', lineDash: [4, 4] } } } },
            legend: false,
            padding: basePadding
        }).render();

        // 22 åŒè½´å›¾
        new DualAxes('chart-22', {
            data: [lineData, lineData], xField: 'month', yField: ['value', 'value'],
            geometryOptions: [
                { geometry: 'column', color: '#5B8FF9', columnWidthRatio: mobile ? 0.45 : 0.4, columnStyle: { radius: [bindRadius, bindRadius, 0, 0] } },
                { geometry: 'line', color: '#E86452', lineStyle: { lineWidth }, point: { size: pointSize, style: { fill: '#E86452', stroke: '#fff', lineWidth: 2 } } }
            ],
            xAxis: { label: { style: { fontSize } } },
            yAxis: { value: { label: { style: { fontSize } } } },
            legend: false,
            padding: mobile ? [20, 40, 35, 40] : [25, 45, 40, 45]
        }).render();

        // 23 ç«ç‘°å›¾
        new Rose('chart-23', {
            data: pieData, xField: 'type', yField: 'value', seriesField: 'type',
            radius: circleRadius, innerRadius: mobile ? 0.2 : 0.25, color: COLORS,
            label: { 
                offset: 15,
                formatter: (datum) => datum.type,
                style: { fontSize: labelFontSize, fill: '#1D1D1F' },
                labelLine: { style: { lineWidth: 1, stroke: '#aaa' } }
            },
            legend: false,
            padding: [15, 15, 15, 15]
        }).render();

        // 24 æ—­æ—¥å›¾
        const sunburstData = { name: 'æ€»éƒ¨', children: [
            { name: 'ç ”å‘', children: [{ name: 'å‰ç«¯', value: 30 }, { name: 'åç«¯', value: 40 }] },
            { name: 'é”€å”®', children: [{ name: 'åä¸œ', value: 25 }, { name: 'åå—', value: 20 }] }
        ]};
        new Sunburst('chart-24', {
            data: sunburstData, innerRadius: mobile ? 0.2 : 0.25,
            hierarchyConfig: { field: 'value' },
            color: COLORS,
            sunburstStyle: { stroke: '#fff', lineWidth: 2 },
            label: { layout: [{ type: 'limit-in-shape' }], style: { fontSize: labelFontSize, fill: '#fff', fontWeight: 500 } },
            legend: false,
            padding: [20, 20, 20, 20]
        }).render();

        // 25 æ¡‘åŸºå›¾
        const sankeyData = [
            { source: 'æœç´¢', target: 'é¦–é¡µ', value: 45 }, { source: 'ç¤¾äº¤', target: 'é¦–é¡µ', value: 25 },
            { source: 'é¦–é¡µ', target: 'æµè§ˆ', value: 60 }, { source: 'é¦–é¡µ', target: 'æµå¤±', value: 10 },
            { source: 'æµè§ˆ', target: 'è´­ä¹°', value: 30 }, { source: 'æµè§ˆ', target: 'æµå¤±', value: 30 }
        ];
        new Sankey('chart-25', {
            data: sankeyData, sourceField: 'source', targetField: 'target', weightField: 'value',
            color: COLORS, nodeWidthRatio: mobile ? 0.02 : 0.016,
            nodePaddingRatio: mobile ? 0.02 : 0.015,
            nodeStyle: { fillOpacity: 1 }, edgeStyle: { fillOpacity: mobile ? 0.45 : 0.5 },
            label: { 
                style: { fill: '#1D1D1F', fontSize: labelFontSize, fontWeight: 500 } 
            },
            legend: false,
            padding: [25, 25, 25, 25]
        }).render();

        // 26 è¿›åº¦æ¡
        new Progress('chart-26', {
            percent: 0.7, barWidthRatio: mobile ? 0.4 : 0.45, color: ['#5B8FF9', '#E8E8ED'],
            legend: false,
            padding: [80, 35, 80, 35]
        }).render();

        console.log(`âœ… 26ç§å›¾è¡¨å…¨éƒ¨åŠ è½½å®Œæˆ (${mobile ? 'ç§»åŠ¨ç«¯' : 'PCç«¯'}æ¨¡å¼)`);
    } catch (e) { console.error('å›¾è¡¨æ¸²æŸ“é”™è¯¯:', e); }
}

// åˆå§‹åŒ–
function init() {
    currentIsMobile = isMobile();
    renderCards();
    setTimeout(renderCharts, 100);
}

// ç›‘å¬çª—å£å¤§å°å˜åŒ–
let resizeTimer;
window.addEventListener('resize', () => {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(() => {
        const nowMobile = isMobile();
        if (nowMobile !== currentIsMobile) {
            currentIsMobile = nowMobile;
            renderCards();
            renderCharts();
        }
    }, 200);
});

window.onload = init;
</script>
</body>
</html>
